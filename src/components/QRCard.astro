---
// QRCard.astro
import qrcode from 'qrcode';

const { url, label } = Astro.props;
// Generaci√≥n en server/build: toDataURL devuelve un data:image/png;base64,...
const dataUrl = await qrcode.toDataURL(url, { margin: 1, width: 400 });
---
<div class="flex flex-col justify-center items-center gap-4">
  <p class="font-helveltica text-[16px] font-bold leading-[140%] text-main">{label}</p>
  <div class="w-[168px] h-[168px] rounded-[5px] border-[3px] border-accent flex items-center justify-center overflow-hidden bg-white">
    <img src={dataUrl} alt={`QR - ${label}`} width="150" height="150" class="block"/>
  </div>
</div>
